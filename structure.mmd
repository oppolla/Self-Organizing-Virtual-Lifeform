flowchart TD
    UserPrompt([User Prompt]) --> BaseLLM([Base LLM])
    UserPrompt --> ScaffoldLLM([Scaffold LLM])
    BaseLLM -->|Token Mapping| TokenMap([Token Map Layer])
    TokenMap --> ScaffoldLLM([Scaffold LLM])
    ScaffoldLLM -->|Influence| BaseLLM
    BaseLLM --> CrossAttention([Cross-Attention Layer])
    ScaffoldLLM --> CrossAttention
    CrossAttention --> TokenMap

    %% Added Systems
    TokenMap -->|Memory Decay & Updates| MemoryUpdates([Memory Updates])
    MemoryUpdates --> LifecycleManagement([Lifecycle Management])
    MemoryUpdates --> TemperamentSystem([Temperament System])
    TemperamentSystem -->|Affects Curiosity| CuriositySystem([Curiosity System])
    TemperamentSystem -->|Triggers Dreaming| Dreaming([Dream Mechanism])
    LifecycleManagement -->|Exposure Weights| ScaffoldLLM

    %% Dreaming Effects
    Dreaming -->|Updates| MemoryUpdates
    Dreaming -->|Generates| CuriositySystem
    Dreaming -->|Optimizes| ScaffoldLLM

    %% Auxiliary Systems
    TokenMap --> SleepScheduler([Sleep Scheduler])
    SleepScheduler -->|Conditionally Triggered| AuxSystem([Gestation & Sleep Training])
    AuxSystem -->|Optimize| ScaffoldLLM
    AuxSystem -->|Memory Updates| TokenMap
    AuxSystem --> Dreaming
    CuriositySystem --> AuxSystem
